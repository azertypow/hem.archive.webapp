import{g as x,_ as j}from"./goToProject.0b8e64d5.js";import{_ as w}from"./appLoader.8f0a0673.js";import{a as V,r as v,b as H,z as A,A as O,B as r,f as e,i as P,F as c,j as f,u as n,k as p,h as m,C as k,o as t,D as S,l as B}from"./entry.f518819e.js";const D={class:"v-index__tag"},I={key:0,class:"fp-grid-coll-container fp-grid-with-gutter"},L={key:1,class:"v-index__search--loader fp-grid-coll-container fp-grid-coll-container--center"},N={key:2},$={key:3,class:"fp-grid-coll-container fp-grid-with-gutter"},z={key:0,class:"v-index__items"},E=V({__name:"index",setup(F){const y=v("default"),g=v(null);let _=v(null);H(()=>{C(),A(()=>{b()})});async function C(){const l=await O();_.value=Object.values(l.projects),console.log(_.value)}function b(){if(!(g.value instanceof HTMLElement))return;new IntersectionObserver(a=>{for(const i of a)r().tagsAreVisibleInIndexPage=i.isIntersecting}).observe(g.value)}function T(l){r().toggleActiveTag_theme(l)}function h({axe:l,themes:a}){const i=r().activeTag_axes,u=r().activeTag_theme;return!i&&!u||l===(i==null?void 0:i.uri)?!0:!!(u&&a.includes(u.uri))}return(l,a)=>{const i=j,u=w;return t(),e("div",{class:k(["v-index",n(y)])},[P("div",{class:"v-index__tags fp-grid-with-gutter",ref_key:"tagsContainer",ref:g},[(t(!0),e(c,null,f(n(r)().tag_themeList,s=>{var o;return t(),e("div",D,[m(S,{onClicked:d=>T(s),title:s.title,uri:s.uri,"is-active":((o=n(r)().activeTag_theme)==null?void 0:o.uri)===s.uri},null,8,["onClicked","title","uri","is-active"])])}),256))],512),n(r)().searchHomeStatus===null?(t(),e(c,{key:0},[n(_)?(t(),e("div",I,[(t(!0),e(c,null,f(n(_),(s,o)=>(t(),e(c,null,[h({themes:s.themes.map(d=>d.uri),axe:s.axes[0].uri})?(t(),e("div",{key:0,class:k(["v-index__items",`v-index__items--${o%8}`])},[m(i,{"project-info":s,onCartelClicked:a[0]||(a[0]=d=>n(x)(d))},null,8,["project-info"])],2)):p("",!0)],64))),256))])):p("",!0)],64)):n(r)().searchHomeStatus==="waiting"?(t(),e("div",L,[m(u,{"is-black":!0})])):n(r)().searchHomeStatus==="ended"&&n(r)().searchHomeResults.length===0?(t(),e("div",N,"Aucun rÃ©sultats")):(t(),e("div",$,[(t(!0),e(c,null,f(n(r)().searchHomeResults,s=>(t(),e(c,null,[h({themes:s.themes.map(o=>o.uri),axe:s.axes[0].uri})?(t(),e("div",z,[m(i,{"project-info":s,onCartelClicked:a[1]||(a[1]=o=>n(x)(o))},null,8,["project-info"])])):p("",!0)],64))),256))]))],2)}}});const G=B(E,[["__scopeId","data-v-70597a62"]]);export{G as default};
