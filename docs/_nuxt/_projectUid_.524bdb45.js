import{a as w,e as _,f as e,t as n,F as r,h as p,x as U,s as k,u as s,o as i,p as $,j as L,k as M,r as f,b as F,m as R,y as B,z as D,v as N,q as u,c as C,A as j,w as O}from"./entry.ee11c1ca.js";import{a as H,_ as z,g as q}from"./goToProject.e51a92fc.js";import{b as A}from"./getDataFromHemApi.125f000a.js";const y=a=>($("data-v-e5f582fe"),a=a(),L(),a),E={class:"fp-grid-coll-container"},V={class:"fp-grid-coll-12-24"},I={class:"v-app-header__left"},J={class:""},Z={class:"v-app-header__title"},G=y(()=>e("div",null,[e("h5",null,"Responsable")],-1)),K=y(()=>e("div",{class:"v-app-header__partners"},[e("div",null,[e("h5",null,"Partenaires")]),e("div",null,[e("p",null,"Jean-Christophe Revel, CRR Paris"),e("p",null,"Mathieu Ferey , CNSM Lyon"),e("p",null,"Pierre Bornachot , Centre Culturel d’Ambronay"),e("p",null,"Nicolas Bucher, Centre de Musique Baroque de Versailles")])],-1)),Q={class:"v-app-header__date"},W=y(()=>e("div",null,[e("h5",null,"Période")],-1)),X={class:"fp-grid-coll-12-24"},Y=w({__name:"appHeader",props:{title:{},axesUid:{},responsables:{},date:{},cover:{}},setup(a){return(t,h)=>(i(),_("header",{class:k(["v-app-header",[s(H)(t.axesUid)]])},[e("div",E,[e("div",V,[e("div",I,[e("h1",J,n(t.title),1),e("div",null,[e("div",Z,[G,e("div",null,[(i(!0),_(r,null,p(t.responsables,v=>(i(),_("p",null,n(v.firstname),1))),256))])]),K,e("div",Q,[W,e("div",null,n(t.date),1)])])])]),e("div",X,[e("div",{class:"v-app-header__right",style:U({backgroundImage:`url(${t.cover})`})},null,4)])])],2))}});const ee=M(Y,[["__scopeId","data-v-e5f582fe"]]),c=a=>($("data-v-5196d177"),a=a(),L(),a),te={key:0,class:"v--project-uid__header"},se=c(()=>e("h1",{style:{color:"white"}}," chargement… ",-1)),ie=[se],_e={key:1,style:{color:"white"}},oe={class:"v--project-uid__header"},ne={class:"fp-grid-coll-container fp-grid-coll-container--center"},ce=c(()=>e("div",{class:"fp-grid-coll-16-24"},[e("h2",null,"Résumé")],-1)),le={class:"fp-grid-coll-16-24"},ae=["innerHTML"],re={key:1,class:"v--project-uid__content__img"},de=["alt","src"],ue={key:2,class:"v--project-uid__content__video"},pe=["src"],ve={key:0,class:"v--project-uid__details"},he={class:"fp-grid-coll-container fp-grid-coll-container--center"},me={class:"fp-grid-coll-20-24 hem-rm-margins"},fe=c(()=>e("h2",null,"Fiche technique du projet",-1)),ge={class:"v--project-uid__details__item"},je=c(()=>e("div",{class:"v--project-uid__details__item__title"}," Responsable ",-1)),ye={class:"v--project-uid__details__item__content"},be={class:"v--project-uid__details__item"},xe=c(()=>e("div",{class:"v--project-uid__details__item__title"}," Partenaire ",-1)),Ce={class:"v--project-uid__details__item__content"},we=["innerHTML"],ke={class:"v--project-uid__details__item"},$e=c(()=>e("div",{class:"v--project-uid__details__item__title"}," Équipe ",-1)),Le={class:"v--project-uid__details__item__content"},Me=["innerHTML"],He={class:"v--project-uid__details__item"},Pe=c(()=>e("div",{class:"v--project-uid__details__item__title"}," Période ",-1)),Se={class:"v--project-uid__details__item__content"},Te={class:"v--project-uid__details__item"},Ue=c(()=>e("div",{class:"v--project-uid__details__item__title"}," Financement ",-1)),Fe={class:"v--project-uid__details__item__content"},Re=["innerHTML"],Be={class:"v--project-uid__details__item"},De=c(()=>e("div",{class:"v--project-uid__details__item__title"}," Thèmes ",-1)),Ne={class:"v--project-uid__details__item__content v--project-uid__details__item__content--is-list"},Oe={key:1,class:"v--project-uid__filesChapter-box"},ze={class:"fp-grid-coll-container fp-grid-coll-container--center"},qe=c(()=>e("div",{class:"fp-grid-coll-20-24"},[e("h2",null,"Fichiers à télécharger")],-1)),Ae={class:"v--project-uid__filesChapter-box__chapter fp-grid-coll-20-24 hem-rm-margins"},Ee={class:"v--project-uid__filesChapter-box__chapter__title"},Ve={class:"fp-grid-coll-container v--project-uid__filesChapter-box__chapter__files"},Ie={class:"v--project-uid__filesChapter-box__chapter__files__coll"},Je={class:"v--project-uid__filesChapter-box__chapter__files__item"},Ze={class:"v--project-uid__filesChapter-box__chapter__files__item__name"},Ge=c(()=>e("br",null,null,-1)),Ke=c(()=>e("button",null,"télécharger",-1)),Qe={class:"v--project-uid__connected"},We={class:"v--project-uid__connected__item"},Xe={class:"v--project-uid__end-page"},Ye=w({__name:"[projectUid]",setup(a){const t=f(null),h=f(null),v=f(),b=f(!1);F(()=>{R(()=>{if(!(v.value instanceof HTMLElement))return;new IntersectionObserver(l=>{l.forEach(g=>{b.value&&g.isIntersecting&&B().go(-1)})}).observe(v.value)}),P().then(()=>b.value=!0)});async function P(){const d=D().params.projectUid;if(typeof d=="string"){const l=await A(d);"error"in l?h.value=l.error:t.value=l}}function S(d){const l=d.match(/[?&]v=([a-zA-Z0-9_-]+)/);return l?l[1]:null}return(d,l)=>{var x;const g=O,T=z;return i(),_("section",{class:k(["v--project-uid",[s(H)(((x=s(t))==null?void 0:x.axes[0].uid)||"interpretation-historique")]])},[s(t)===null?(i(),_("div",te,ie)):s(h)?(i(),_("h1",_e,n(s(h)),1)):(i(),_(r,{key:2},[e("div",oe,[N(ee,{axesUid:s(t).axes[0].uid,date:`${new Date(s(t).dateStart).toLocaleString("FR-fr",{month:"long",year:"numeric"})} - ${new Date(s(t).dateEnd).toLocaleString("FR-fr",{month:"long",year:"numeric"})}`,responsables:s(t).authors,title:s(t).title,cover:Object.values(s(t).cover)[0].resize.large},null,8,["axesUid","date","responsables","title","cover"])]),e("div",ne,[ce,e("div",le,[(i(!0),_(r,null,p(s(t).content,o=>(i(),_(r,null,[o.type==="text"?(i(),_("div",{key:0,class:"v--project-uid__content__text hem-rm-margins",innerHTML:o.value},null,8,ae)):u("",!0),o.type==="image"?(i(),_("div",re,[e("img",{alt:o.alt,src:o.image.resize.small},null,8,de),e("h6",null,n(o.caption),1)])):u("",!0),o.type==="video"?(i(),_("div",ue,[e("iframe",{width:"1280",height:"800",src:`https://www.youtube.com/embed/${S(o.content.url)}`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,8,pe),e("h6",null,n(o.content.caption),1)])):u("",!0)],64))),256))])]),s(t)?(i(),_("div",ve,[e("div",he,[e("div",me,[fe,e("div",ge,[je,e("div",ye,[(i(!0),_(r,null,p(s(t).authors,o=>(i(),_(r,null,[j(n(o.firstname)+" "+n(o.Name)+", ",1)],64))),256))])]),e("div",be,[xe,e("div",Ce,[e("div",{innerHTML:s(t).partners},null,8,we)])]),e("div",ke,[$e,e("div",Le,[e("div",{innerHTML:s(t).team},null,8,Me)])]),e("div",He,[Pe,e("div",Se,n(new Date(s(t).dateStart).toLocaleString("FR-fr",{month:"long",year:"numeric"}))+" - "+n(new Date(s(t).dateEnd).toLocaleString("FR-fr",{month:"long",year:"numeric"})),1)]),e("div",Te,[Ue,e("div",Fe,[e("div",{innerHTML:s(t).financement},null,8,Re)])]),e("div",Be,[De,e("div",Ne,[(i(!0),_(r,null,p(s(t).themes,o=>(i(),C(g,{name:o.title,"is-active":!1},null,8,["name"]))),256))])])])])])):u("",!0),s(t)?(i(),_("div",Oe,[e("div",ze,[qe,(i(!0),_(r,null,p(s(t).filesChapters,o=>(i(),_("div",Ae,[e("h3",Ee,n(o.title),1),e("div",Ve,[(i(!0),_(r,null,p(o.files,m=>(i(),_("div",Ie,[e("div",Je,[e("div",null,[e("div",Ze,n(m.name),1),e("div",null,[j(n(m.extension)+" ",1),Ge,j("("+n(m.niceSize)+") ",1)])]),e("div",null,[e("div",null,n(m.type),1),Ke])])]))),256))])]))),256))])])):u("",!0),e("div",Qe,[e("div",We,[s(t)?(i(),C(T,{key:0,"project-info":s(t),onCartelClicked:l[0]||(l[0]=o=>s(q)(o))},null,8,["project-info"])):u("",!0)])])],64)),e("div",Xe,[e("div",{ref_key:"endOfPage",ref:v,class:"v--project-uid__end-page__detector"},null,512)])],2)}}});const it=M(Ye,[["__scopeId","data-v-5196d177"]]);export{it as default};
