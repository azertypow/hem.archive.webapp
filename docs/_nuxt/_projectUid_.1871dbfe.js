import{a as L,f as o,i as e,u as s,F as r,j as v,t as a,E as R,C as w,o as i,q as H,s as M,l as T,r as m,G as D,b as q,z as B,H as N,m as y,I as O,h as z,k as p,c as C,x as A,D as E}from"./entry.f518819e.js";import{i as V,a as k,b as I,_ as G,g as J}from"./goToProject.0b8e64d5.js";const j=l=>(H("data-v-36471c77"),l=l(),M(),l),Z={class:"fp-grid-coll-container"},K={class:"fp-grid-coll-12-24"},Q={class:"v-app-header__left"},W=["innerHTML"],X={class:"v-app-header__title"},Y=j(()=>e("div",null,[e("h5",null,"Responsable")],-1)),ee=j(()=>e("div",{class:"v-app-header__partners"},[e("div",null,[e("h5",null,"Partenaires")]),e("div",null,[e("p",null,"Jean-Christophe Revel, CRR Paris"),e("p",null,"Mathieu Ferey , CNSM Lyon"),e("p",null,"Pierre Bornachot , Centre Culturel d’Ambronay"),e("p",null,"Nicolas Bucher, Centre de Musique Baroque de Versailles")])],-1)),te={class:"v-app-header__date"},se=j(()=>e("div",null,[e("h5",null,"Période")],-1)),ie={class:"fp-grid-coll-12-24"},_e=L({__name:"appHeader",props:{title:{},axesUid:{},responsables:{},date:{},cover:{}},setup(l){return(t,f)=>(i(),o("header",{class:w(["v-app-header",[s(k)(t.axesUid)]])},[e("div",Z,[e("div",K,[e("div",Q,[e("h1",{class:"",innerHTML:s(V)(t.title)},null,8,W),e("div",null,[e("div",X,[Y,e("div",null,[(i(!0),o(r,null,v(t.responsables,h=>(i(),o("p",null,a(h.firstname),1))),256))])]),ee,e("div",te,[se,e("div",null,a(t.date),1)])])])]),e("div",ie,[e("div",{class:"v-app-header__right",style:R({backgroundImage:`url(${t.cover})`})},null,4)])])],2))}});const oe=T(_e,[["__scopeId","data-v-36471c77"]]),c=l=>(H("data-v-db3a1059"),l=l(),M(),l),ne={key:0,class:"v--project-uid__header"},ae=c(()=>e("div",{class:"hem-loader"},null,-1)),ce=[ae],le={key:1,style:{color:"white"}},re={class:"v--project-uid__header"},de={class:"fp-grid-coll-container fp-grid-coll-container--center"},ue=c(()=>e("div",{class:"fp-grid-coll-16-24"},[e("h2",null,"Résumé")],-1)),pe={class:"fp-grid-coll-16-24"},ve=["innerHTML"],he={key:1,class:"v--project-uid__content__img"},me=["alt","src"],fe=["innerHTML"],ge={key:2,class:"v--project-uid__content__video"},je=["src"],be={key:0,class:"v--project-uid__details"},xe={class:"fp-grid-coll-container fp-grid-coll-container--center"},ye={class:"fp-grid-coll-16-24 hem-rm-margins"},Ce=c(()=>e("h2",null,"Fiche technique du projet",-1)),Le={class:"v--project-uid__details__item"},we=c(()=>e("div",{class:"v--project-uid__details__item__title"}," Responsable ",-1)),He={class:"v--project-uid__details__item__content"},Me={class:"v--project-uid__details__item"},Te=c(()=>e("div",{class:"v--project-uid__details__item__title"}," Partenaire ",-1)),ke={class:"v--project-uid__details__item__content"},$e=["innerHTML"],Se={class:"v--project-uid__details__item"},Pe=c(()=>e("div",{class:"v--project-uid__details__item__title"}," Équipe ",-1)),Ue={class:"v--project-uid__details__item__content"},Fe=c(()=>e("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Asperiores beatae blanditiis cumque deleniti dignissimos doloribus, dolorum eaque excepturi exercitationem hic, id impedit iusto nemo perspiciatis quaerat quibusdam saepe vitae voluptatum?",-1)),Re=["innerHTML"],De={class:"v--project-uid__details__item"},qe=c(()=>e("div",{class:"v--project-uid__details__item__title"}," Période ",-1)),Be={class:"v--project-uid__details__item__content"},Ne={class:"v--project-uid__details__item"},Oe=c(()=>e("div",{class:"v--project-uid__details__item__title"}," Financement ",-1)),ze={class:"v--project-uid__details__item__content"},Ae=["innerHTML"],Ee={class:"v--project-uid__details__item"},Ve=c(()=>e("div",{class:"v--project-uid__details__item__title"}," Thèmes ",-1)),Ie={class:"v--project-uid__details__item__content v--project-uid__details__item__content--is-list"},Ge={key:1,class:"v--project-uid__filesChapter-box"},Je={class:"fp-grid-coll-container fp-grid-coll-container--center"},Ze={class:"fp-grid-coll-16-24"},Ke={class:"hem-rm-margins v--project-uid__filesChapter-box__chapter"},Qe={class:"v--project-uid__filesChapter-box__chapter__title"},We=["innerHTML"],Xe={class:"fp-grid-coll-container v--project-uid__filesChapter-box__chapter__files"},Ye=c(()=>e("h5",null,"À télécharger",-1)),et={class:"v--project-uid__filesChapter-box__chapter__files__coll"},tt=["href","download"],st={class:"v--project-uid__filesChapter-box__chapter__files__item__box"},it={class:"v--project-uid__filesChapter-box__chapter__files__item__name"},_t={class:"v--project-uid__filesChapter-box__chapter__files__item__box"},ot={class:"v--project-uid__filesChapter-box__chapter__files__item__ext"},nt=c(()=>e("div",{class:"v--project-uid__filesChapter-box__chapter__files__item__button"}," télécharger ",-1)),at={class:"v--project-uid__connected"},ct={class:"v--project-uid__connected__item"},lt={class:"v--project-uid__end-page"},rt=L({__name:"[projectUid]",setup(l){var x;const t=m(null),f=m(null),h=m(),b=m(!1),$=m((x=t.value)==null?void 0:x.axes[0].uid),S=D(()=>{var n;const{c:d}=y().query;return I(d)||k((n=t.value)==null?void 0:n.axes[0].uid)});q(()=>{B(()=>{if(!(h.value instanceof HTMLElement))return;new IntersectionObserver(n=>{n.forEach(g=>{b.value&&g.isIntersecting&&N().go(-1)})}).observe(h.value)}),P().then(()=>b.value=!0)});async function P(){const d=y().params.projectUid;if(typeof d=="string"){const n=await O(d);"error"in n?f.value=n.error:window.setTimeout(()=>{t.value=n},2e3)}}function U(d){const n=d.match(/[?&]v=([a-zA-Z0-9_-]+)/);return n?n[1]:null}return(d,n)=>{const g=E,F=G;return i(),o("section",{class:w(["v--project-uid",[s(S)]])},[s(t)===null?(i(),o("div",ne,ce)):s(f)?(i(),o("h1",le,a(s(f)),1)):(i(),o(r,{key:2},[e("div",re,[z(oe,{axesUid:s($),date:`${new Date(s(t).dateStart).toLocaleString("FR-fr",{month:"long",year:"numeric"})} - ${new Date(s(t).dateEnd).toLocaleString("FR-fr",{month:"long",year:"numeric"})}`,responsables:s(t).authors,title:s(t).title,cover:Object.values(s(t).cover)[0].resize.xxl},null,8,["axesUid","date","responsables","title","cover"])]),e("div",de,[ue,e("div",pe,[(i(!0),o(r,null,v(s(t).content,_=>(i(),o(r,null,[_.type==="text"?(i(),o("div",{key:0,class:"v--project-uid__content__text hem-rm-margins",innerHTML:_.value},null,8,ve)):p("",!0),_.type==="image"?(i(),o("div",he,[e("img",{alt:_.alt,src:_.image.resize.large},null,8,me),e("h6",{innerHTML:_.caption},null,8,fe)])):p("",!0),_.type==="video"?(i(),o("div",ge,[e("iframe",{width:"1280",height:"800",src:`https://www.youtube.com/embed/${U(_.content.url)}`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,8,je),e("h6",null,a(_.content.caption),1)])):p("",!0)],64))),256))])]),s(t)?(i(),o("div",be,[e("div",xe,[e("div",ye,[Ce,e("div",Le,[we,e("div",He,[(i(!0),o(r,null,v(s(t).authors,_=>(i(),o(r,null,[A(a(_.firstname)+" "+a(_.Name)+", ",1)],64))),256))])]),e("div",Me,[Te,e("div",ke,[e("div",{innerHTML:s(t).partners},null,8,$e)])]),e("div",Se,[Pe,e("div",Ue,[Fe,e("div",{innerHTML:s(t).team},null,8,Re)])]),e("div",De,[qe,e("div",Be,a(new Date(s(t).dateStart).toLocaleString("FR-fr",{month:"long",year:"numeric"}))+" - "+a(new Date(s(t).dateEnd).toLocaleString("FR-fr",{month:"long",year:"numeric"})),1)]),e("div",Ne,[Oe,e("div",ze,[e("div",{innerHTML:s(t).financement},null,8,Ae)])]),e("div",Ee,[Ve,e("div",Ie,[(i(!0),o(r,null,v(s(t).themes,_=>(i(),C(g,{title:_.title,uri:_.uri,"is-active":!1},null,8,["title","uri"]))),256))])])])])])):p("",!0),s(t)?(i(),o("div",Ge,[e("div",Je,[e("div",Ze,[(i(!0),o(r,null,v(s(t).filesChapters,_=>(i(),o("div",Ke,[e("h2",Qe,a(_.title),1),e("div",{innerHTML:_.textDescription},null,8,We),e("div",Xe,[Ye,(i(!0),o(r,null,v(_.files,u=>(i(),o("div",et,[e("a",{href:u.url,download:`${u.name}.${u.extension}`,class:"v--project-uid__filesChapter-box__chapter__files__item",target:"_blank"},[e("div",st,[e("div",it,a(u.name),1)]),e("div",_t,[e("div",ot,a(u.extension)+" ("+a(u.niceSize)+") ",1),nt])],8,tt)]))),256))])]))),256))])])])):p("",!0),e("div",at,[e("div",ct,[s(t)?(i(),C(F,{key:0,"project-info":s(t),onCartelClicked:n[0]||(n[0]=_=>s(J)(_))},null,8,["project-info"])):p("",!0)])])],64)),e("div",lt,[e("div",{ref_key:"endOfPage",ref:h,class:"v--project-uid__end-page__detector"},null,512)])],2)}}});const pt=T(rt,[["__scopeId","data-v-db3a1059"]]);export{pt as default};
